#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running Flutter pre-commit checks..."

# 1ï¸âƒ£ Install dependencies
echo "ğŸ“¦ Running flutter pub get..."
flutter pub get || { echo "âŒ flutter pub get failed."; exit 1; }

# 2ï¸âƒ£ Build runner
echo "ğŸ›  Running build_runner..."
flutter pub run build_runner build --delete-conflicting-outputs || { echo "âŒ build_runner failed."; exit 1; }

## 3ï¸âƒ£ Linting
echo "ğŸ“ Running flutter analyze..."
flutter analyze || { echo "âŒ flutter analyze failed."; exit 1; }

echo "âœ… All pre-commit checks passed!"
